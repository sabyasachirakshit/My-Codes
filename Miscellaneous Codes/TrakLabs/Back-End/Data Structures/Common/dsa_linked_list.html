<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSA_LINKED_LIST</title>


    <script>
        class LinkedList {
            next = null;
            prev = null;
            data = null;

            constructor(next, prev, data) {
                //this.data = passedData;
                this.next = next;
                this.prev = prev;
                this.data = data;
            }

            find(data_string) {
                //todo: find the data across all elements

            }

            remove(node) {
                //todo remove the element
            }

            addNext(linkedlist) {
                let current_node = this;

                if (current_node.next == null) {
                    this.next = linkedlist;
                }
                else if (current_node.next != null) {

                    //assigning the next node of current node to point to the next of linkedlist that we are trying to insert
                    linkedlist.next = current_node.next;

                    //setting the reference of currentnode's next as the linkedlist (passed)
                    current_node.next = linkedlist;

                    //setting the current_node to point to the next node in the line (which is prev of linkedlist)
                    current_node = linkedlist;

                    // while (current_node.next != null) {
                    //     //assigning the next node of current node to point to the next of linkedlist that we are trying to insert
                    //     linkedlist.next = current_node.next;

                    //     //setting the reference of currentnode's next as the linkedlist (passed)
                    //     current_node.next = linkedlist;

                    //     //setting the current_node to point to the next node in the line (which is prev of linkedlist)
                    //     current_node = linkedlist;
                    //     // linkedlist.next = current_node.next;
                    //     //  current_node.next = linkedlist;

                    //     //we need to run the cycle only once

                    //     break;

                    // }
                }


                // this.next  = linkedlist;
                console.log(current_node);

                //push the pointers to next node untill its end
            }

            removeNext(linkedlist) {
                //todo: find the element and then remove it and change the pointer of next node to the current one
                this.next = linkedlist;
            }

            find(search_data) {
                let searched_node = null;
                let contextual_node = this;

                while (contextual_node.next != null || searched_node == null) {
                    if (contextual_node.next != null && contextual_node.data == search_data) {
                        searched_node = contextual_node;
                        break;
                    }
                    else {
                        contextual_node = contextual_node.next;
                        if (contextual_node == null)
                            break;
                    }


                }

                if (searched_node == null) {
                    contextual_node = this;
                    while (contextual_node.prev != null || searched_node == null) {
                        if (contextual_node.prev != null && contextual_node.data == search_data) {
                            searched_node = contextual_node;
                            break;
                        }
                        else {
                            contextual_node = contextual_node.prev;
                            if (contextual_node == null)
                                break;
                        }


                    }
                }
                return searched_node;

            }


        }

        class Usage {
            constructor() {

            }
        }

        function initiateLinkedList() {

            let first_node = new LinkedList(null, null, 'L0');
            let temp_node = null;
            //create a linked list (linear) with 5 nodes
            for (let i = 0; i < 5; i++) {
                let number_in_string = ('L' + (i + 1)).toString();

                let linked_list_to_be_added = new LinkedList(null, first_node, number_in_string);
                first_node.addNext(linked_list_to_be_added);

                // if(i==4){
                //     number_in_string = ('L' + (i + 1)).toString() + 'NEW';
                //     linked_list_to_be_added_t = new LinkedList(null, linked_list_to_be_added, number_in_string);
                //     linked_list_to_be_added.addNext( linked_list_to_be_added_t);
                // }

                first_node = linked_list_to_be_added;


            }

            //pick the 3rd item and then try to push a new node
            let temp = first_node.find('L3');

            if (temp != null) {
                let number_in_string = 'NEW';
                let linked_list_to_be_added_t = new LinkedList(null, temp, number_in_string);
                temp.addNext(linked_list_to_be_added_t);
            }
            console.log(temp);
        }
    </script>
</head>

<body>
    <input type="text" id="txtInput" />
    <input type="button" onclick="initiateLinkedList();" value="Initiate" />

    <div id="divResults">

    </div>
</body>

</html>